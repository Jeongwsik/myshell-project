# myshell-project
#include &lt;stdio.h> #include &lt;string.h> #include &lt;stdbool.h> #include &lt;stdlib.h> #include &lt;unistd.h> #include &lt;sys/types.h> #include &lt;sys/wait.h>  #define MAX_LEN_LINE    10  int main(void) {     char command[MAX_LEN_LINE];    char *envp[] = {"USER=jkim", "PATH=/tmp", (char *)0}; char *arg[] = {"ls", (char *)0};     int ret, status;     pid_t pid, cpid;          while (true) {         char *s;         int len;                  printf("ws@ws-X556URK $ ");         s = fgets(command, MAX_LEN_LINE, stdin);         if (s == NULL) {             fprintf(stderr, "fgets failed\n");             exit(1);         }                  len = strlen(command);         printf("%d\n", len);         if (command[len - 1] == '\n') {             command[len - 1] = '\0';          }                  printf("[%s]\n", command);                pid = fork();         if (pid &lt; 0) {             fprintf(stderr, "fork failed\n");             exit(1);         }          if (pid != 0) {  /* parent */             cpid = waitpid(pid, &amp;status, 0);             if (cpid != pid) {                 fprintf(stderr, "waitpid failed\n");                     }             printf("Child process terminated\n");             if (WIFEXITED(status)) {                 printf("Exit status is %d\n", WEXITSTATUS(status));              }         }         else {  /* child */             ret = execve(command, arg, envp);             if (ret &lt; 0) {                 fprintf(stderr, "execve failed\n");                    return 1;             }         }      }     return 0; }
